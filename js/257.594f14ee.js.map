{"version":3,"file":"js/257.594f14ee.js","mappings":"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","sources":["webpack://vue3-ecommerce-pojui/./src/components/Pagination.vue","webpack://vue3-ecommerce-pojui/./src/components/Pagination.vue?33dc","webpack://vue3-ecommerce-pojui/./src/views/frontend/Favorite.vue","webpack://vue3-ecommerce-pojui/./src/views/frontend/Favorite.vue?2449"],"sourcesContent":["<template>\n  <nav aria-label=\"Page navigation example\">\n    <ul class=\"pagination justify-content-center\">\n      <li class=\"page-item\">\n        <a\n          class=\"page-link\"\n          href=\"#\"\n          @click.prevent=\"updatePage(pages.current_page - 1)\"\n          aria-label=\"Previous\"\n        >\n          <span aria-hidden=\"true\">&laquo;</span>\n        </a>\n      </li>\n      <li\n        class=\"page-item\"\n        v-for=\"page in pages.total_pages\"\n        :key=\"page\"\n        :class=\"{ active: page === pages.current_page }\"\n      >\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(page)\">\n          {{ page }}\n        </a>\n      </li>\n      <li class=\"page-item\">\n        <a\n          class=\"page-link\"\n          href=\"#\"\n          @click.prevent=\"updatePage(pages.current_page + 1)\"\n          aria-label=\"Next\"\n        >\n          <span aria-hidden=\"true\">&raquo;</span>\n        </a>\n      </li>\n    </ul>\n  </nav>\n</template>\n\n<script>\n// :pages=\"{ 頁碼資訊 }\"\n// @emitPages=\"更新頁面事件\"\nexport default {\n  props: [\"pages\"],\n  methods: {\n    // 當點擊上一頁下一頁會觸發該事件，並帶入該頁碼\n    // 由於父層已經把該頁碼傳遞過來，所以直接把該頁碼傳遞過來即可\n    updatePage(page) {\n      this.$emit(\"emit-pages\", page);\n    }\n  }\n};\n</script>\n","import { render } from \"./Pagination.vue?vue&type=template&id=7bc09e04\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div>\n    <div class=\"follow-banner\">\n      <h2 class=\"text-center\">追蹤商品</h2>\n    </div>\n    <div class=\"container follow-box\">\n      <div class=\"row\">\n        <div class=\"col-lg-8 col-md-12 mx-auto\">\n          <loading :active.sync=\"isLoading\">\n            <i class=\"loading-box\"></i>\n          </loading>\n          <div class=\"follow-title\">\n            <h3>\n              我的收藏\n              <span v-if=\"followProduct.length > 0\">( {{ followProduct.length }} )</span>\n              <span v-else>( 0 )</span>\n            </h3>\n            <select\n              v-if=\"followProduct.length > 0\"\n              name=\"sortData\"\n              id=\"sortData\"\n              v-model=\"sortData\"\n              class=\"form-control follow-sort mb-2\"\n              @change=\"sortProduct()\"\n            >\n              <option value=\"\" disabled>商品排序</option>\n              <option value=\"highToLow\">價格由高至低</option>\n              <option value=\"lowToHigh\">價格由低至高</option>\n            </select>\n          </div>\n          <div class=\"mb-5\" v-if=\"followProduct.length > 0\">\n            <div class=\"mb-3\" v-for=\"item in followProduct\" :key=\"item.id\">\n              <div class=\"followItem\" data-aos=\"fade-right\">\n                <div class=\"d-flex\">\n                  <router-link :to=\"`/product/${item.id}`\">\n                    <img class=\"followItem-img\" :src=\"item.imageUrl\" alt=\"\" />\n                  </router-link>\n                  <div class=\"followItem-content\">\n                    <h5>{{ item.title }}</h5>\n                    <p>{{ item.content }}</p>\n                    <p class=\"followItem-category\">{{ item.category }}</p>\n                  </div>\n                </div>\n                <div class=\"followItem-cart\">\n                  <span class=\"followItem-origin-price pl-3\" v-if=\"item.origin_price !== 0\">\n                    {{ $filters.currency(item.origin_price) }} </span\n                  ><br />\n                  <span class=\"followItem-price pl-3\">\n                    {{ $filters.currency(item.price) }}\n                  </span>\n                  <span>\n                    <button\n                      v-if=\"status.loadingItem === item.id\"\n                      class=\"btn btn-shopping btn-sm\"\n                      type=\"button\"\n                      :disabled=\"status.loadingItem === item.id\"\n                      @click=\"addToCart(item.id)\"\n                    >\n                      <i class=\"fas fa-spinner fa-spin\"></i>\n                      加到購物車\n                    </button>\n                    <button\n                      v-else\n                      class=\"btn btn-shopping btn-sm\"\n                      type=\"button\"\n                      @click=\"addToCart(item.id)\"\n                    >\n                      加到購物車\n                    </button>\n                  </span>\n                </div>\n\n                <div class=\"m-followItem-cart\">\n                  <div class=\"m-fol-money\">\n                    <span class=\"m-folItem-origin-price pr-2\" v-if=\"item.origin_price !== 0\">\n                      {{ $filters.currency(item.origin_price) }}\n                    </span>\n                    <span class=\"pr-2 m-folItem-price\">\n                      {{ $filters.currency(item.price) }}\n                    </span>\n                  </div>\n                  <button\n                    v-if=\"status.loadingItem === item.id\"\n                    class=\"btn btn-shopping btn-sm\"\n                    type=\"button\"\n                    :disabled=\"status.loadingItem === item.id\"\n                    @click=\"addToCart(item.id)\"\n                  >\n                    <i class=\"fas fa-spinner fa-spin\"></i>\n                    加到購物車\n                  </button>\n                  <button\n                    v-else\n                    class=\"btn btn-shopping btn-sm\"\n                    type=\"button\"\n                    @click=\"addToCart(item.id)\"\n                  >\n                    加到購物車\n                  </button>\n                </div>\n                <button href=\"#\" class=\"follow-close\" @click.prevent=\"delFollow(item.id)\">\n                  <i class=\"fas fa-times\"></i>\n                </button>\n              </div>\n            </div>\n            <!-- 分頁 -->\n            <!-- <Pagination\n              class=\"text-right\"\n              :pages=\"pagination\"\n              @emit-pages=\"getProducts\"\n              v-if=\"products.length >= 25\"\n            ></Pagination> -->\n          </div>\n          <div v-else class=\"my-5 no-follow\">\n            <p>目前沒有收藏任何商品唷！</p>\n            <router-link to=\"/products\" class=\"text-cyanine\">\n              <i class=\"fas fa-reply mr-2\"></i>\n              逛逛商品\n            </router-link>\n          </div>\n        </div>\n      </div>\n    </div>\n    <section class=\"bg-follow-footer\" v-if=\"!isLoading\">\n      <div class=\"container pt-4\">\n        <h4 class=\"font-weight-bold text-center h4\">香氛蠟燭冷知識</h4>\n        <div class=\"row mt-4 m-footer-follow\">\n          <div class=\"col-lg-4 col-md-6 mb-4\" data-aos=\"zoom-in\">\n            <div\n              class=\"knowledge-img position-relative\"\n              style=\"\n                background-image: url(https://images.unsplash.com/photo-1616968173950-4abf6a34c4b7?q=80&w=1972&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D);\n              \"\n            >\n              <div class=\"knowledge-box\">\n                <h5 class=\"font-weight-bolder pt-3 pb-2 pl-4\">顏色與香味</h5>\n                <p class=\"px-4 my-3\">\n                  蠟燭的顏色和香味可以對情緒產生影響。例如，藍色蠟燭常被認為有助於放鬆，而柑橘類香味可以提神醒腦。\n                </p>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-lg-4 col-md-6 mb-4\" data-aos=\"zoom-in\">\n            <div\n              class=\"knowledge-img position-relative\"\n              style=\"\n                background-image: url(https://images.unsplash.com/photo-1597318109735-d3612887d1ad?q=80&w=2071&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D);\n              \"\n            >\n              <div class=\"knowledge-box\">\n                <h5 class=\"font-weight-bolder pt-3 pb-2 pl-4\">健康益處</h5>\n                <p class=\"px-4 my-3\">\n                  一些香氛蠟燭含有精油，如薰衣草、迷迭香、桉樹等，這些精油有助於放鬆、減壓和改善睡眠品質。\n                </p>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-lg-4 col-md-6 mb-4\" data-aos=\"zoom-in\">\n            <div\n              class=\"knowledge-img position-relative\"\n              style=\"\n                background-image: url(https://images.unsplash.com/photo-1589536677029-c0aa1808fba6?q=80&w=1780&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D);\n              \"\n            >\n              <div class=\"knowledge-box\">\n                <h5 class=\"font-weight-bolder pt-3 pb-2 pl-4\">香味釋放</h5>\n                <p class=\"px-4 my-3\">\n                  香氛蠟燭的香味釋放來自於蠟燭燃燒時加熱的香精油。這些油在高溫下揮發，釋放出香味。\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport Toast from \"@/alert/Toast\";\nimport Pagination from \"@/components/Pagination.vue\";\nimport { auth, db } from \"@/methods/firebase\";\nimport { onAuthStateChanged } from \"firebase/auth\";\nimport { collection, doc, getDoc, updateDoc } from \"firebase/firestore\";\n\nexport default {\n  data() {\n    return {\n      isLoading: false,\n      status: {\n        loadingItem: \"\",\n      },\n      products: {},\n      followProduct: {},\n      sortData: \"\",\n      followData: [],\n      pagination: {},\n      carts: {},\n      uid: null,\n    };\n  },\n  components: {\n    Pagination,\n  },\n  created() {\n    this.getAuthState();\n    this.getProducts();\n  },\n  watch: {\n    uid(newVal, oldVal) {\n      if (newVal) {\n        console.log(\"User is logged in with UID:\", newVal);\n        // this.updateUserCartItem(); // 可以在這裡調用更新購物車方法\n      } else {\n        console.log(\"User is logged out or email is not verified\");\n        // 在這裡處理用戶登出或未驗證的情況\n        this.$router.replace(\"/userlogin\");\n      }\n    },\n  },\n  methods: {\n    getAuthState() {\n      onAuthStateChanged(auth, (user) => {\n        if (user) {\n          if (user.emailVerified) {\n            this.uid = user.uid;\n            this.updateUserCartItem();\n          } else {\n            this.uid = null; // 如果 email 未驗證，清空 uid\n          }\n        } else {\n          this.uid = null; // 如果沒有用戶，清空 uid\n          Toast.fire({\n            icon: \"warning\",\n            title: \"請先登入會員\",\n          });\n          this.$router.replace(\"/userlogin\");\n        }\n      });\n    },\n    async updateUserCartItem(item) {\n      // console.log(item);\n      const userRef = collection(db, \"userInfo\");\n      const userDocRef = doc(userRef, this.uid);\n      const docSnap = await getDoc(userDocRef);\n      if (docSnap.exists()) {\n        this.userCartItems = docSnap.data().cartItem;\n        if (item !== undefined) {\n          const index = this.userCartItems.findIndex((i) => i.product.id === item.product.id);\n          if (index !== -1) {\n            this.userCartItems.splice(index, 1);\n          }\n          this.userCartItems.push(item);\n          await updateDoc(userDocRef, {\n            cartItem: this.userCartItems,\n          });\n        }\n        console.log(\"userCartItems:\", this.userCartItems);\n      } else {\n        // doc.data() will be undefined in this case\n        console.log(\"No such document!\");\n      }\n    },\n    getProducts() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\n      this.isLoading = true;\n      this.$http\n        .get(url)\n        .then((response) => {\n          this.products = response.data.products;\n          if (this.uid !== null) {\n            this.getFollow();\n          }\n          this.isLoading = false;\n        })\n        .catch(() => {\n          Toast.fire({\n            title: \"資料讀取失敗，請稍後再試\",\n            icon: \"error\",\n          });\n          this.isLoading = false;\n        });\n    },\n    async getFollow() {\n      const userRef = collection(db, \"userInfo\");\n      const userDocRef = doc(userRef, this.uid);\n      const docSnap = await getDoc(userDocRef);\n      if (docSnap.exists()) {\n        this.followData = docSnap.data().favorite;\n        console.log(\"followData:\", this.followData);\n      }\n      this.followProduct = this.products.filter((item) => this.followData.indexOf(item.id) > -1);\n    },\n    addToCart(id) {\n      this.status.loadingItem = id;\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      const cart = {\n        product_id: id,\n        qty: 1,\n      };\n      this.$http\n        .post(url, { data: cart })\n        .then((response) => {\n          this.updateUserCartItem(response.data.data);\n          setTimeout(() => {\n            this.status.loadingItem = \"\";\n            this.$emitter.emit(\"update-total\"); // 更新購物車數量\n            Toast.fire({\n              title: \"已加入購物車\",\n              icon: \"success\",\n            });\n          }, 500);\n        })\n        .catch((err) => {\n          this.status.loadingItem = \"\";\n          Toast.fire({\n            title: `${err.response.data.errors}`,\n            icon: \"warning\",\n          });\n        });\n    },\n    async delFollow(id) {\n      const followId = this.followData.indexOf(id);\n      if (followId !== -1) {\n        this.followData.splice(followId, 1);\n        Toast.fire({\n          title: \"已取消收藏\",\n          icon: \"success\",\n        });\n        const userRef = collection(db, \"userInfo\");\n        const userDocRef = doc(userRef, this.uid);\n        const docSnap = await getDoc(userDocRef);\n        if (docSnap.exists()) {\n          await updateDoc(userDocRef, {\n            favorite: this.followData,\n          });\n        }\n      }\n      this.getProducts();\n    },\n    sortProduct() {\n      this.followProduct.sort((a, b) => {\n        if (this.sortData === \"lowToHigh\") {\n          return a.price - b.price;\n        }\n        if (this.sortData === \"highToLow\") {\n          return b.price - a.price;\n        }\n        return this.followProduct;\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@media (max-width: 1920px) {\n  .col-lg-8 {\n    width: 1050px !important;\n  }\n}\n@media (max-width: 1200px) {\n  .col-lg-8 {\n    width: 975px !important;\n  }\n}\n@media (max-width: 992px) {\n  .container,\n  .container-sm,\n  .container-md,\n  .container-lg {\n    max-width: 900px;\n  }\n}\n@media (max-width: 915px) {\n  .col-lg-8 {\n    width: 800px !important;\n  }\n}\n@media (max-width: 830px) {\n  .col-lg-8 {\n    width: 750px !important;\n  }\n}\n@media (max-width: 768px) {\n  .col-lg-8 {\n    width: 700px !important;\n  }\n}\n</style>\n","import { render } from \"./Favorite.vue?vue&type=template&id=ff589b5c&scoped=true\"\nimport script from \"./Favorite.vue?vue&type=script&lang=js\"\nexport * from \"./Favorite.vue?vue&type=script&lang=js\"\n\nimport \"./Favorite.vue?vue&type=style&index=0&id=ff589b5c&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ff589b5c\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_4","_hoisted_8","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","href","onClick","_cache","_withModifiers","$event","$options","updatePage","$props","pages","current_page","_hoisted_5","_Fragment","_renderList","total_pages","page","_normalizeClass","active","key","_hoisted_6","_hoisted_7","_hoisted_9","props","methods","this","$emit","__exports__","render","value","disabled","_hoisted_10","_hoisted_11","_hoisted_34","_createStaticVNode","_hoisted_40","_createVNode","_component_loading","$data","isLoading","default","_withCtx","_","_createTextVNode","followProduct","length","_toDisplayString","name","id","sortData","onChange","sortProduct","_hoisted_12","_createCommentVNode","_hoisted_13","item","_hoisted_14","_hoisted_15","_component_router_link","to","src","imageUrl","alt","_hoisted_16","_hoisted_17","title","content","_hoisted_18","category","_hoisted_19","origin_price","_hoisted_20","_ctx","$filters","currency","_hoisted_21","_hoisted_22","price","status","loadingItem","type","addToCart","_hoisted_24","_hoisted_23","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_31","_hoisted_30","_hoisted_32","delFollow","_hoisted_35","_hoisted_33","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_41","data","products","followData","pagination","carts","uid","components","Pagination","created","getAuthState","getProducts","watch","newVal","oldVal","console","log","$router","replace","onAuthStateChanged","auth","user","emailVerified","updateUserCartItem","Toast","fire","icon","userRef","collection","db","userDocRef","doc","docSnap","getDoc","exists","userCartItems","cartItem","undefined","index","findIndex","i","product","splice","push","updateDoc","url","$http","get","then","response","getFollow","catch","favorite","filter","indexOf","cart","product_id","qty","post","setTimeout","$emitter","emit","err","errors","followId","sort","a","b"],"sourceRoot":""}